!function(){"use strict";angular.module("myApp",["ngRoute","angular.filter"])}(),angular.module("myApp").factory("porsche",["$http",function(e){return{all:function(){return e({method:"GET",url:"/api/stockList"})},single:function(t){return e({method:"GET",url:"/api/stockList/"+t})},"delete":function(t){return e({method:"DELETE",url:"/api/StockList/"+t})},edit:function(t,r){return e({method:"PUT",url:"/api/stockList/"+t,data:r})},create:function(t){return e({method:"POST",url:"/api/stockList",data:t})}}}]),angular.module("myApp").config(["$routeProvider",function(e){e.when("/home",{templateUrl:"partials/home/index.html"}).when("/cars/:id",{templateUrl:"partials/cars/index.html",controller:"singleCarCtrl"}).when("/stock",{templateUrl:"partials/stock/index.html",controller:"carCtrl"}).when("/admin",{templateUrl:"partials/admin/index.html",controller:"carCtrl"}).when("/admin/sold",{templateUrl:"partials/admin/sold/index.html",controller:"carCtrl"}).when("/admin/delete/deleted",{templateUrl:"partials/admin/delete/deleted/index.html",controller:"carCtrl"}).when("/admin/update/:id",{templateUrl:"partials/admin/update/index.html",controller:"singleCarCtrl"}).when("/admin/updated",{templateUrl:"partials/admin/update/updated/index.html",controller:"singleCarCtrl"}).when("/admin/add",{templateUrl:"partials/admin/add/index.html",controller:"carCtrl"}).when("/admin/added",{templateUrl:"partials/admin/add/added/index.html",controller:"carCtrl"}).when("/about",{templateUrl:"partials/about/index.html"}).otherwise({redirectTo:"/home"})}]),angular.module("myApp").controller("carCtrl",["$scope","$http","$location","porsche",function(e,t,r,a){e.clearFilter=function(){e.Query=void 0},a.all().success(function(t){e.cars=t.stock}),e["delete"]=function(t){confirm("Are you sure you want to delete?")&&a["delete"](t).success(function(t,a,i){e.deleted=!0,r.url("/admin/delete/deleted")}).error(function(t,r,a,i){e.deleted=!1})},e.save=function(){var t=JSON.stringify(e.model),i=e.mileage,n=e.owners,l=e.year,o=JSON.stringify(e.transmission),d=e.engine,c=JSON.stringify(e.image),s=e.price,u=!1,m=JSON.stringify(e.fuel),p=JSON.stringify(e.colour),f=JSON.stringify(e.location),g=JSON.stringify(e.interior),h=Date.now(),y='{"model":'+t+', "mileage":'+i+', "owners":'+n+', "year":'+l+', "transmission":'+o+', "engine":'+d+', "image":'+c+', "price":'+s+', "sold":'+u+', "fuel":'+m+', "colour":'+p+', "location":'+f+', "interior":'+g+', "added":'+h+"}",v=JSON.parse(y);a.create(v).success(function(t,a){e.added=!0,r.url("/admin/added")}).error(function(t,r){e.added=!1})}}]),angular.module("myApp").controller("singleCarCtrl",["$scope","$http","$routeParams","$location","porsche",function(e,t,r,a,i){var n=r.id;i.single(n).success(function(t){e.car=t.stock}),e.hiddenDiv=!1,e.showDiv=function(){e.hiddenDiv=!e.hiddenDiv},e.update=function(){var t=JSON.stringify(e.car._id),r=JSON.stringify(e.car.model),l=e.car.mileage,o=e.car.owners,d=e.car.year,c=JSON.stringify(e.car.transmission),s=e.car.engine,u=JSON.stringify(e.car.image),m=e.car.price,p=e.car.sold,f=JSON.stringify(e.car.fuel),g=JSON.stringify(e.car.colour),h=JSON.stringify(e.car.location),y=JSON.stringify(e.car.interior),v='{"_id":'+t+', "model":'+r+', "mileage":'+l+', "owners":'+o+', "year":'+d+', "transmission":'+c+', "engine":'+s+', "image":'+u+', "price":'+m+', "sold":'+p+', "fuel":'+f+', "colour":'+g+', "location":'+h+', "interior":'+y+"}",$=JSON.parse(v);i.edit(n,$).success(function(t,r){e.ServerResponse=t,e.updated=!0,a.url("/admin/updated")}).error(function(t,r){e.ServerResponse=t,e.updated=!1})}}]),angular.module("myApp").directive("carSearch",function(){return{templateUrl:"partials/carSearch/index.html",restrict:"E",replace:!0,controller:"carCtrl"}}),angular.module("myApp").directive("carouselContent",function(){return{templateUrl:"partials/carousel/index.html",restrict:"E",replace:!0,link:function(e,t,r){var a=e.$eval($(t).attr("data-options"));$(t).owlCarousel(a)}}}),angular.module("myApp").directive("siteFooter",function(){return{templateUrl:"partials/footer/index.html",restrict:"E",replace:!0}}),angular.module("myApp").directive("navBar",function(){return{templateUrl:"partials/nav/index.html",restrict:"E",replace:!0}}),$(document).on("click",".nav-pills li a",function(){$(".nav-pills").find(".active").removeClass("active"),$(this).parent().addClass("active")});var $overlay=$('<div id="overlay"></div>'),$image=$("<img>");$overlay.append($image),$("body").append($overlay),$(document).on("click","a.lightbox",function(e){e.preventDefault();var t=$(this).find("img").attr("ng-src");$image.attr("src",t),$overlay.show(),$("body").addClass("fixedBackground")}),$overlay.click(function(){$overlay.hide(),$("body").removeClass("fixedBackground")}),$(document).ready(function(){$("#owl-demo").owlCarousel({autoPlay:3e3,items:1,itemsDesktop:[1e3,1],itemsDesktopSmall:[900,1],itemsTablet:[600,1],itemsMobile:[500,1]})});